:root {
	/*
		Heading font (easy to tweak).
		Try: 'Space Grotesk' | 'Manrope' | 'IBM Plex Sans' | 'Inter'
	*/
	--tv-font-heading: 'Outfit';

	--bg-primary: #000000;
	--bg-sidebar: #0a0a0a;
	--bg-card: #111111;
	--bg-card-hover: #161616;
	--bg-elevated: #1a1a1a;
	--border-subtle: #1f1f1f;
	--border-default: #2a2a2a;
	--text-primary: #ffffff;
	--text-secondary: #a0a0a0;
	--text-muted: #666666;
	/* Tangerine brand accent (overridable at runtime via :root style vars) */
	--accent-rgb: 249 115 22;
	--accent-primary: #f97316;
	--accent-glow: rgba(var(--accent-rgb) / 0.18);
	--accent-hover: #fb923c;
	--accent-selection: rgba(var(--accent-rgb) / 0.35);

	/*
		Toggle (Switch) colors
		- OFF (unchecked) should be darker
		- ON (checked) should be lighter
	*/
	--toggle-track-off-bg: rgba(255, 255, 255, 0.14);
	--toggle-track-off-border: rgba(255, 255, 255, 0.18);
	/* Slight Tangerine tint when ON (readable, but on-brand) */
	--toggle-track-on-bg: rgba(var(--accent-rgb) / 0.38);
	--toggle-track-on-border: rgba(var(--accent-rgb) / 0.52);
}

/*
	Mantine v8 Switch uses CSS variables:
	- track background: var(--switch-bg)
	- checked state sets: --switch-bg = var(--switch-color)

	We attach stable classNames in theme.ts (tv-switch-*) and override the
	variables here with higher specificity than Mantine's built-in dark-scheme rules.
*/
[data-mantine-color-scheme='dark'] .tv-switch-track {
	--switch-bg: var(--toggle-track-off-bg);
	--switch-color: var(--toggle-track-on-bg);
	--switch-disabled-color: rgba(255, 255, 255, 0.10);

	/* Optional: add a tiny border feel to improve readability */
	box-shadow: inset 0 0 0 1px var(--toggle-track-off-border);
}

[data-mantine-color-scheme='dark'] .tv-switch-input:checked + .tv-switch-track {
	box-shadow: inset 0 0 0 1px var(--toggle-track-on-border);
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

html,
body {
	height: 100%;
	overflow: hidden;
}

::selection {
	background: var(--accent-selection);
	color: var(--text-primary);
}

body {
	font-family:
		"Sora", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
	background: var(--bg-primary);
	color: var(--text-primary);
	line-height: 1.5;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/*
	Title text gets a tiny crisp shadow in dark mode for readability.
	(Headings font is configured in theme.ts.)
*/
[data-mantine-color-scheme='dark'] .mantine-Title-root {
	font-synthesis: none;
	text-shadow:
		0.35px 0 0 rgba(255, 255, 255, 0.28),
		-0.35px 0 0 rgba(255, 255, 255, 0.28);
}

/* Links: subtle Tangerine accent (avoid looking like a neon sign) */
a {
	color: rgba(var(--accent-rgb) / 0.92);
	text-decoration-color: rgba(var(--accent-rgb) / 0.35);
	text-underline-offset: 3px;
}

a:hover {
	color: var(--accent-hover);
	text-decoration-color: rgba(var(--accent-rgb) / 0.55);
}

a:focus-visible {
	outline: 2px solid var(--accent-glow);
	outline-offset: 2px;
	border-radius: 6px;
}

/* Global focus-visible: keep it consistent and keyboard-friendly */
[data-mantine-color-scheme='dark'] :where(
	.mantine-Button-root,
	.mantine-ActionIcon-root,
	.mantine-TextInput-input,
	.mantine-Textarea-input,
	.mantine-Select-input,
	.mantine-NumberInput-input,
	.mantine-PasswordInput-input
):focus-visible {
	outline: 2px solid var(--accent-glow);
	outline-offset: 2px;
}

#root {
	height: 100%;
	display: flex;
}

/* Layout */
.app-layout {
	display: flex;
	width: 100%;
	height: 100%;
}

/* Sidebar */
.sidebar {
	width: 72px;
	min-width: 72px;
	background: var(--bg-sidebar);
	border-right: 1px solid var(--border-subtle);
	display: flex;
	flex-direction: column;
	padding: 20px 0;
}

.sidebar-header {
	padding: 0 12px 24px;
	border-bottom: 1px solid var(--border-subtle);
	margin-bottom: 16px;
}

.sidebar-logo {
	display: flex;
	align-items: center;
	justify-content: center;
	color: var(--accent-primary);
}

.sidebar-nav {
	flex: 1;
	padding: 0 12px;
	display: flex;
	flex-direction: column;
	gap: 4px;
}

.sidebar-nav-link {
	border-radius: 8px;
	color: var(--text-primary);
	padding: 12px;
	display: flex;
	justify-content: center;
}

.sidebar-nav-link:hover {
	background-color: rgba(var(--accent-rgb) / 0.08);
}

.sidebar-nav-link:focus-visible {
	outline: 2px solid var(--accent-glow);
	outline-offset: 2px;
}

/* Hide the empty body/label section for icon-only nav links */
.sidebar-nav-link .mantine-NavLink-body {
	display: none;
}

/* Center the icon section when body is hidden */
.sidebar-nav-link .mantine-NavLink-section {
	margin: 0;
}

.sidebar-nav-link[data-active] {
	background-color: rgba(var(--accent-rgb) / 0.10);
	color: var(--accent-primary);
	box-shadow: 0 0 0 2px var(--accent-glow);
}

.sidebar-nav-link[data-active]:hover {
	background-color: rgba(var(--accent-rgb) / 0.14);
}

.sidebar-footer {
	padding: 0 12px 14px;
	border-top: none;
	margin-top: auto;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: flex-end;
}

.sidebar-footer-text {
	font-size: 11px;
	color: var(--text-muted);
	text-transform: uppercase;
	letter-spacing: 0.05em;
}

.sidebar-footer-link {
	display: flex;
	align-items: center;
	font-size: 11px;
	color: var(--text-muted);
	text-transform: none;
	letter-spacing: 0.05em;
	text-decoration: none;
}

.sidebar-footer-link:hover {
	text-decoration: underline;
	cursor: pointer;
}

.sidebar-footer-link:focus-visible {
	outline: 2px solid var(--accent-glow);
	outline-offset: 2px;
}

/* Main Content */
.main-content {
	flex: 1;
	overflow-y: auto;
	/* Prevent subtle width changes when scrollbar appears/disappears (tab switches) */
	scrollbar-gutter: stable;
	padding: 32px 40px;
	background: var(--bg-primary);
}

.main-content::-webkit-scrollbar {
	width: 8px;
}

.main-content::-webkit-scrollbar-track {
	background: transparent;
}

.main-content::-webkit-scrollbar-thumb {
	background: var(--border-default);
	border-radius: 4px;
}

.main-content::-webkit-scrollbar-thumb:hover {
	background: var(--accent-hover);
}

.main-content::-webkit-scrollbar-thumb:active {
	background: var(--accent-primary);
}

/* Instructions Card */
.instructions-card {
	background: var(--bg-card);
	border: 1px solid var(--border-default);
	border-radius: 16px;
	padding: 24px 28px;
	margin-bottom: 32px;
	position: relative;
	overflow: hidden;
}

.instructions-card::before {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	width: 60px;
	height: 2px;
	background: var(--accent-primary);
}

.instructions-card-title {
	/* DM Serif Display looks great for big headlines, but gets finicky at ~18px.
	   Use the UI font here for a cleaner, more "designed" look. */
	font-family: var(--tv-font-heading), "Sora", -apple-system, BlinkMacSystemFont,
		"Segoe UI", sans-serif;
	font-size: 17px;
	font-weight: 600;
	letter-spacing: -0.01em;
	line-height: 1.2;
	color: var(--text-primary);
	margin-bottom: 12px;
	display: flex;
	align-items: center;
	gap: 8px;
}

.instructions-card-title .highlight {
	color: var(--accent-primary);
}

.instructions-card-text {
	font-size: 14px;
	color: var(--text-secondary);
	line-height: 1.6;
	margin-bottom: 0;
}

.instructions-methods {
	display: flex;
	flex-direction: column;
	gap: 10px;
	margin-bottom: 0;
}

/* Only add extra spacing when the descriptive paragraph is present. */
.instructions-methods + .instructions-card-text {
	margin-top: 16px;
}

.instruction-method {
	display: flex;
	align-items: center;
	gap: 12px;
}

.instruction-label {
	font-size: 13px;
	font-weight: 600;
	color: var(--text-secondary);
	min-width: 50px;
}

.instruction-desc {
	font-size: 12px;
	color: var(--text-muted);
	margin-left: 4px;
}

/* Keyboard Shortcuts */
.kbd-combo {
	display: inline-flex;
	align-items: center;
	gap: 4px;
}

.kbd-plus {
	color: var(--text-muted);
	font-size: 11px;
}

/* Section Headers */
.section-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 16px;
}

.section-title {
	font-family: "Sora", sans-serif;
	font-size: 12px;
	font-weight: 600;
	color: var(--text-muted);
	text-transform: uppercase;
	letter-spacing: 0.08em;
	display: inline-flex;
	align-items: center;
	gap: 10px;
}

.section-title::before {
	content: "";
	width: 10px;
	height: 2px;
	border-radius: 999px;
	background: var(--accent-primary);
	opacity: 0.9;
}

/* Some sections (e.g., History) should not show the orange accent bar */
.section-title.section-title--no-accent::before {
	content: none;
}

/* History Feed */
.history-feed {
	display: flex;
	flex-direction: column;
	gap: 2px;
}

.history-item {
	display: flex;
	align-items: flex-start;
	gap: 16px;
	padding: 16px 20px;
	background: var(--bg-card);
	border-radius: 12px;
	transition: all 0.2s ease;
	cursor: default;
	border: 1px solid transparent;
}


.history-item:hover {
	background: var(--bg-card-hover);
	border-color: rgba(var(--accent-rgb) / 0.16);
	/* Subtle, “premium” hover: inset sheen instead of a loud outer glow */
	box-shadow: inset 0 0 0 1px rgba(var(--accent-rgb) / 0.14);
}

.history-item:first-child {
	border-top-left-radius: 12px;
	border-top-right-radius: 12px;
}

.history-item:last-child {
	border-bottom-left-radius: 12px;
	border-bottom-right-radius: 12px;
}

.history-time {
	font-size: 13px;
	color: var(--text-muted);
	min-width: 70px;
	flex-shrink: 0;
	font-variant-numeric: tabular-nums;
}

.history-text {
	flex: 1;
	min-width: 0;
	font-size: 14px;
	color: var(--text-primary);
	line-height: 1.5;
}

.history-actions {
	display: flex;
	gap: 4px;
	flex-shrink: 0;
	opacity: 0;
	transition: opacity 0.2s ease;
}

.history-item:hover .history-actions {
	opacity: 1;
}

/* Empty State */
.empty-state {
	text-align: center;
	padding: 48px 24px;
}

.empty-state-icon {
	width: 48px;
	height: 48px;
	margin: 0 auto 16px;
	color: rgba(var(--accent-rgb) / 0.65);
	opacity: 0.35;
}

.empty-state-title {
	font-family: "Sora", sans-serif;
	font-size: 16px;
	font-weight: 600;
	color: var(--text-secondary);
	margin-bottom: 8px;
}

.empty-state-text {
	font-size: 14px;
	color: var(--text-muted);
}

/* Settings Tabs */
.settings-tabs .mantine-Tabs-tab {
	font-family: "Sora", sans-serif;
	font-size: 13px;
	font-weight: 500;
	color: var(--text-secondary);
	padding: 12px 20px;
	border: none;
	background: transparent;
	transition: all 0.2s ease;
}

.settings-tabs .mantine-Tabs-tab:hover {
	color: var(--text-primary);
	background: var(--bg-elevated);
}

.settings-tabs .mantine-Tabs-tab:focus-visible {
	outline: 2px solid var(--accent-glow);
	outline-offset: 2px;
}

.settings-tabs .mantine-Tabs-tab[data-active] {
	color: var(--text-primary);
	border-bottom: none;
	box-shadow: inset 0 -2px 0 0 var(--accent-primary);
}

/* Disable tab panel animation */
.settings-tabs .mantine-Tabs-panel {
	animation: none;
	transition: none;
	transform: none;
}

/* Keep tabs content area from collapsing during switch */
.settings-tabs .mantine-Tabs-panels {
	min-height: 520px;
}

/* Prevent tab list height changes */
.settings-tabs .mantine-Tabs-list {
	border-bottom: 1px solid var(--border-subtle);
	gap: 0;
	margin-bottom: 16px;
	min-height: 45px;
}

/* Remove checkmarks in dropdown options (Mantine Select/Combobox) */
.mantine-Combobox-option svg {
	display: none;
}

/* Remove the extra left indent reserved for the check icon */
.mantine-Combobox-option {
	padding-left: 12px;
}

/* Combobox/Select option hover: faint Tangerine tint */
[data-mantine-color-scheme='dark'] .mantine-Combobox-option[data-hovered] {
	background-color: rgba(var(--accent-rgb) / 0.08);
}

/* ActionIcon hover cue (kept subtle; only in main content area) */
[data-mantine-color-scheme='dark'] .main-content :where(button.mantine-ActionIcon-root):hover:not(:disabled) {
	box-shadow: 0 0 0 2px rgba(var(--accent-rgb) / 0.12);
}

/* Hotkey “keycaps” polish */
.hotkey-display .mantine-Kbd-root {
	background: rgba(255, 255, 255, 0.04);
	border: 1px solid var(--border-default);
	color: var(--text-primary);
}

.hotkey-display.capturing .mantine-Kbd-root {
	border-color: rgba(var(--accent-rgb) / 0.35);
	box-shadow: 0 0 0 2px rgba(var(--accent-rgb) / 0.10);
}

/* Logs: subtle in-progress stripe */
[data-mantine-color-scheme='dark'] .mantine-Accordion-item[data-status='in_progress'] {
	box-shadow: inset 3px 0 0 rgba(var(--accent-rgb) / 0.75);
}


.settings-section {
	margin-bottom: 32px;
}

.settings-section-title {
	font-family: var(--tv-font-heading), "Sora", -apple-system, BlinkMacSystemFont,
		"Segoe UI", sans-serif;
	font-size: 14px;
	font-weight: 600;
	color: var(--text-primary);
	margin-bottom: 16px;
	display: flex;
	align-items: center;
	gap: 10px;
}

.settings-section-title::before {
	content: "";
	width: 10px;
	height: 2px;
	border-radius: 999px;
	background: var(--accent-primary);
	opacity: 0.9;
}

.settings-card {
	background: var(--bg-card);
	border: 1px solid var(--border-subtle);
	border-radius: 12px;
	padding: 20px;
}

.settings-row {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 16px 0;
	min-height: 72px;
	border-bottom: 1px solid var(--border-subtle);
}

/*
 * Most settings tabs start with a .settings-row, which already has vertical
 * padding. Combined with the card padding this can look like “extra space” at
 * the top compared to tabs that start with other components (e.g. Hotkeys).
 */
.settings-card > .settings-row:first-child {
	padding-top: 0;
}

/* Default <p> margins add unintended vertical spacing inside rows */
.settings-row p {
	margin: 0;
}

/*
 * Utility: some rows are immediately followed by a Mantine <Divider>,
 * which already renders its own separator line.
 */
.settings-row.no-divider {
	border-bottom: none;
}

.settings-row:last-child {
	border-bottom: none;
}

.settings-label {
	font-size: 14px;
	color: var(--text-primary);
	font-weight: 500;
}

.settings-description {
	font-size: 13px;
	color: var(--text-muted);
	margin-top: 2px;
}

/* Hotkey Display */
.hotkey-display {
	display: flex;
	align-items: center;
	gap: 6px;
	padding: 10px 16px;
	background: var(--bg-elevated);
	border: 1px solid var(--border-default);
	border-radius: 10px;
	cursor: pointer;
	transition: all 0.2s ease;
}

.hotkey-display:hover {
	border-color: var(--accent-primary);
	box-shadow: 0 0 0 3px var(--accent-glow);
}

.hotkey-display.capturing {
	border-color: var(--accent-primary);
	box-shadow: 0 0 0 3px var(--accent-glow);
}

.hotkey-hint {
	font-size: 12px;
	color: var(--text-muted);
	margin-left: auto;
}

/* Device Selector */
.device-selector {
	--input-bg: #1a1a1a;
	--input-bd: #2a2a2a;
}

.device-selector label {
	color: var(--text-primary);
	font-weight: 500;
	margin-bottom: 4px;
}

.device-selector .mantine-Select-description {
	color: var(--text-muted);
	margin-bottom: 8px;
}

.device-selector .mantine-Select-input {
	background-color: var(--bg-elevated);
	border-color: var(--border-default);
	color: var(--text-primary);
}

.device-selector .mantine-Select-input:focus {
	border-color: var(--accent-primary);
	box-shadow: 0 0 0 2px rgba(var(--accent-rgb) / 0.12);
}

.device-selector .mantine-Select-dropdown {
	background-color: var(--bg-card);
	border-color: var(--border-default);
}

.device-selector .mantine-Select-option {
	color: var(--text-primary);
}

.device-selector .mantine-Select-option[data-selected] {
	background-color: var(--accent-primary);
	color: #000;
}

.device-selector .mantine-Select-option[data-hovered] {
	background-color: rgba(var(--accent-rgb) / 0.08);
}

/* Sliders: orange bar + thumb accents */
[data-mantine-color-scheme='dark'] .mantine-Slider-bar {
	background: var(--accent-primary);
}

[data-mantine-color-scheme='dark'] .mantine-Slider-thumb {
	border-color: rgba(var(--accent-rgb) / 0.65);
	background: var(--bg-elevated);
	box-shadow:
		0 0 0 2px rgba(0, 0, 0, 0.55),
		0 0 0 4px rgba(var(--accent-rgb) / 0.16);
}

/* Checkboxes + Radios: orange when checked */
[data-mantine-color-scheme='dark'] .mantine-Checkbox-input:checked {
	background-color: var(--accent-primary);
	border-color: var(--accent-primary);
}

[data-mantine-color-scheme='dark'] .mantine-Checkbox-input:checked + .mantine-Checkbox-icon {
	color: #000;
}

[data-mantine-color-scheme='dark'] .mantine-Radio-radio:checked {
	background-color: var(--accent-primary);
	border-color: var(--accent-primary);
}

/* Toasts / Notifications: left accent bar (keeps severity colors intact) */
[data-mantine-color-scheme='dark'] .mantine-Notification-root {
	position: relative;
	overflow: hidden;
}

[data-mantine-color-scheme='dark'] .mantine-Notification-root::before {
	content: "";
	position: absolute;
	left: 0;
	top: 0;
	bottom: 0;
	width: 3px;
	background: var(--accent-primary);
	opacity: 0.85;
}

/* Respect explicit notification colors when present */
[data-mantine-color-scheme='dark'] .mantine-Notification-root[data-color='red']::before {
	background: rgba(239, 68, 68, 1);
}

[data-mantine-color-scheme='dark'] .mantine-Notification-root[data-color='yellow']::before {
	background: rgba(234, 179, 8, 1);
}

[data-mantine-color-scheme='dark'] .mantine-Notification-root[data-color='green']::before {
	background: rgba(34, 197, 94, 1);
}

/* Animations */
@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(8px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.animate-in {
	animation: fadeIn 0.3s ease forwards;
}

.animate-in-delay-1 {
	animation-delay: 0.05s;
	opacity: 0;
}

.animate-in-delay-2 {
	animation-delay: 0.1s;
	opacity: 0;
}

.animate-in-delay-3 {
	animation-delay: 0.15s;
	opacity: 0;
}

.animate-in-delay-4 {
	animation-delay: 0.2s;
	opacity: 0;
}
